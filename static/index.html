<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Âè¨ÂñöÁç£„Éê„Éà„É´</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <!-- Three.js „É¢„Ç∏„É•„Éº„É´ -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
                "three/examples/jsm/controls/OrbitControls.js": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/controls/OrbitControls.js",
                "three/examples/jsm/loaders/STLLoader.js": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/loaders/STLLoader.js"
            }
        }
    </script>
</head>
<body>
    <div id="app">
        <!-- „Éò„ÉÉ„ÉÄ„Éº -->
        <header class="header">
            <h1>üîÆ Âè¨ÂñöÁç£„Éê„Éà„É´</h1>
            <div class="game-status">
                <span id="gamePhase">Âè¨ÂñöÊ∫ñÂÇô‰∏≠</span>
            </div>
        </header>

        <!-- „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
        <main class="main-content">
            <!-- Âè¨Âñö„Éï„Çß„Éº„Ç∫ -->
            <div id="summonPhase" class="phase">
                <div class="summon-container">
                    <div class="summon-panel">
                        <h2>Âè¨ÂñöÁç£1„ÇíÂëº„Å≥Âá∫„Åô</h2>
                        <div class="summon-input">
                            <select id="summon1Select" class="summon-select">
                                <option value="">Êó¢Â≠ò„ÅÆÂè¨ÂñöÁç£„ÇíÈÅ∏Êäû</option>
                            </select>
                            <div class="or-divider">„Åæ„Åü„ÅØ</div>
                            <textarea id="summon1Input" placeholder="Âè¨ÂñöÂë™Êñá„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºà‰æãÔºöÂá∫„Åß„ÇàÁ•ûÈæç „Åù„Åó„Å¶È°ò„ÅÑ„ÇíÂè∂„Åà„Åü„Åæ„ÅàÔºâ"></textarea>
                            <button id="summon1Btn" class="summon-btn">Âè¨ÂñöÈñãÂßã</button>
                        </div>
                        <div id="summon1Status" class="status"></div>
                    </div>
                    
                    <div class="summon-panel">
                        <h2>Âè¨ÂñöÁç£2„ÇíÂëº„Å≥Âá∫„Åô</h2>
                        <div class="summon-input">
                            <select id="summon2Select" class="summon-select">
                                <option value="">Êó¢Â≠ò„ÅÆÂè¨ÂñöÁç£„ÇíÈÅ∏Êäû</option>
                            </select>
                            <div class="or-divider">„Åæ„Åü„ÅØ</div>
                            <textarea id="summon2Input" placeholder="Âè¨ÂñöÂë™Êñá„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºà‰æãÔºöÊ∞∑Èõ™„ÅÆÂ•≥Áéã„Ç∑„É¥„Ç°„Çà Êàë„ÅåÂâç„Å´Áèæ„Çå„ÇàÔºâ"></textarea>
                            <button id="summon2Btn" class="summon-btn">Âè¨ÂñöÈñãÂßã</button>
                        </div>
                        <div id="summon2Status" class="status"></div>
                    </div>
                </div>
                
                <button id="startBattleBtn" class="battle-start-btn" disabled>„Éê„Éà„É´ÈñãÂßã</button>
            </div>

            <!-- „Éê„Éà„É´„Éï„Çß„Éº„Ç∫ -->
            <div id="battlePhase" class="phase hidden">
                <!-- 3DË°®Á§∫„Ç®„É™„Ç¢ -->
                <div class="battle-arena">
                    <div id="creature1Container" class="creature-container">
                        <div id="creature1Viewer" class="creature-viewer"></div>
                        <div id="creature1Info" class="creature-info">
                            <h3 id="creature1Name">-</h3>
                            <div class="hp-bar">
                                <div id="creature1HP" class="hp-fill"></div>
                                <span id="creature1HPText" class="hp-text">100/100</span>
                            </div>
                            <p id="creature1Special">-</p>
                        </div>
                    </div>
                    
                    <div class="vs-indicator">VS</div>
                    
                    <div id="creature2Container" class="creature-container">
                        <div id="creature2Viewer" class="creature-viewer"></div>
                        <div id="creature2Info" class="creature-info">
                            <h3 id="creature2Name">-</h3>
                            <div class="hp-bar">
                                <div id="creature2HP" class="hp-fill"></div>
                                <span id="creature2HPText" class="hp-text">100/100</span>
                            </div>
                            <p id="creature2Special">-</p>
                        </div>
                    </div>
                </div>

                <!-- „Éê„Éà„É´„Ç≥„É≥„Éà„É≠„Éº„É´ -->
                <div class="battle-controls">
                    <div class="turn-indicator">
                        <span id="currentTurn">„Éó„É¨„Ç§„É§„Éº1„ÅÆ„Çø„Éº„É≥</span>
                    </div>
                    
                    <div class="attack-input">
                        <textarea id="attackInput" placeholder="ÊîªÊíÉÂë™Êñá„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºà‰æãÔºö„ÅÑ„Å¶„Å§„Åè„ÅØ„Å©„ÅÜÔºâ"></textarea>
                        <button id="attackBtn" class="attack-btn">ÊîªÊíÉ</button>
                        <div id="pollingProgress" class="polling-progress hidden">
                            <div class="progress-bar">
                                <div id="progressFill" class="progress-fill"></div>
                            </div>
                            <span id="pollingText">Âà§ÂÆöÂæÖ„Å°... (<span id="pollingCount">0</span>/30)</span>
                        </div>
                    </div>
                    
                    <div id="battleLog" class="battle-log"></div>
                </div>
            </div>

            <!-- ÁµêÊûú„Éï„Çß„Éº„Ç∫ -->
            <div id="resultPhase" class="phase hidden">
                <div class="result-container">
                    <div id="winnerViewer" class="winner-viewer"></div>
                    <div id="winner" class="winner-display"></div>
                    <div id="finishComment" class="finish-comment"></div>
                    <button id="restartBtn" class="restart-btn">Êñ∞„Åó„ÅÑ„Éê„Éà„É´</button>
                </div>
            </div>
        </main>

        <!-- „É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫ -->
        <div id="loading" class="loading hidden">
            <div class="spinner"></div>
            <p id="loadingMessage">Âá¶ÁêÜ‰∏≠...</p>
        </div>
    </div>

    <!-- TypeScript„Ç≥„É≥„Éë„Ç§„É´Ê∏à„Åø„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Çπ„ÇØ„É™„Éó„Éà -->
    <script type="module" src="/static/js/main.js"></script>
</body>
</html>